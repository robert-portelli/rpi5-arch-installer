# /usr/lib/systemd/zram-generator.conf.d/10-zram-swap.conf
#
# Rationale:
# - zram-size is uncompressed capacity. This caps at 4 GiB for predictability.
# - No writeback/recompression: Pi-class devices benefit from simple reclaim paths.
#
[zram0]
zram-size = min(ram / 2, 4096)  # half of RAM, capped at 4096 MiB (4 GiB)
compression-algorithm = zstd
swap-priority = 100
fs-type = swap
options = discard
